import{_ as z}from"./DIs3dmBA.js";import{u as D,g as N,f as E}from"./Dv1q3syl.js";import{l as L}from"./DnCtf8DX.js";import{E as X,G as j,r as o,w as q,q as n,s as u,z as l,H as k,B as b,x as a,F as G,C as I,y as C,A as B,I as F,J}from"#entry";import"./BJ2ClxiI.js";const R={subContainer:""},S={flex:"","justify-center":"","items-center":""},K={"m-l-6":"","text-5":"","text-amber-800":""},M={class:"article"},O={"text-size-3":"","m-r-3":""},P={key:1,"text-center":""},Q=["src"],U={key:2,"text-center":"","m-b-10":""},re={__name:"[tag]",async setup(W){let m,h,{message:f}=X(["message"]);D({title:"文章分类页"});const p=j().params.tag,r=o("");switch(p){case"blockchain":r.value="金融科技";break;case"ai":r.value="人工智能";break;case"network-institute":r.value="网络技术";break;case"smartcontract":r.value="智能合约";break;case"songofera":r.value="时代的歌";break;case"cn":r.value="最新文章";break;default:r.value="未分类"}let c=[],T=20,y=o(0),_=o(),g=o(!1),d=o(!1),i=o(!0);const{data:x,pending:V,error:w}=([m,h]=q(()=>N("/hiveapi/category/"+p+"/0")),m=await m,h(),m);if(w.value&&f.error(`失败！
`+w.value,{duration:5e3}),x.value){let s=x.value.result;i.value=!1,s.length>19&&(d.value=!0);for(let e in s)c.push(s[e]);_.value=c}const A=async()=>{i.value=!0,d.value=!1,g.value=!0,y.value+=T;const{data:s,pending:e,error:v}=await N("/hiveapi/category/"+p+"/"+y.value);if(v.value){f.error(`失败！
`+v.value,{duration:5e3});return}let t=s?.value?.result;if(t.length==0){f.info("没有更多数据了",{duration:5e3}),i.value=!1;return}for(let H in t)c.push(t[H]);_.value=c,i.value=!1,t.length>19&&(d.value=!0),g.value=!1};return(s,e)=>{const v=z;return u(),n("div",R,[l("div",S,[l("p",K,b(a(r)),1),e[0]||(e[0]=l("hr",{class:"borderitem"},null,-1))]),a(V)?k("",!0):(u(!0),n(G,{key:0},I(a(_),t=>(u(),n("div",M,[C(v,{to:"/miaos/@"+t.author+"/"+t.permlink},{default:B(()=>[l("span",O,b(("formatTime"in s?s.formatTime:a(E))(t.created)),1),F(b(t.title),1)]),_:2},1032,["to"])]))),256)),a(i)?(u(),n("div",P,[l("img",{src:a(L),alt:"miao loading"},null,8,Q)])):k("",!0),a(d)?(u(),n("div",U,[C(a(J),{variant:"outline-primary",onClick:A,disabled:a(g)},{default:B(()=>[...e[1]||(e[1]=[F("查看更多",-1)])]),_:1},8,["disabled"])])):k("",!0),e[2]||(e[2]=l("br",null,null,-1)),e[3]||(e[3]=l("br",null,null,-1))])}}};export{re as default};
