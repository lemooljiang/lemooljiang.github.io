import{_ as D}from"./B8oIVCfA.js";import{u as H,g as N,f as L}from"./Bgr6ojWv.js";import{l as X}from"./BRTuN0Vx.js";import{g as z,h as E,r as o,w as R,c as n,o as u,b as l,i as k,t as h,u as a,F as S,e as q,a as B,d as C,j as F,B as G}from"./D81w4fj2.js";import"./BJ2ClxiI.js";const I={subContainer:""},J={flex:"","justify-center":"","items-center":""},K={"m-l-6":"","text-5":"","text-amber-800":""},M={class:"article"},O={"text-size-3":"","m-r-3":""},P={key:1,"text-center":""},Q=["src"],U={key:2,"text-center":"","m-b-10":""},re={__name:"[tag]",async setup(W){let m,b,{message:v}=z(["message"]);H({title:"文章分类页"});const p=E().params.tag,s=o("");switch(p){case"blockchain":s.value="金融科技";break;case"ai":s.value="人工智能";break;case"network-institute":s.value="网络技术";break;case"smartcontract":s.value="智能合约";break;case"songofera":s.value="时代的歌";break;default:s.value="未分类"}let c=[],T=20,y=o(0),_=o(),g=o(!1),d=o(!1),i=o(!0);const{data:x,pending:V,error:w}=([m,b]=R(()=>N("/hiveapi/category/"+p+"/0")),m=await m,b(),m);if(w.value&&v.error(`失败！
`+w.value,{duration:5e3}),x.value){let r=x.value.result;i.value=!1,r.length>19&&(d.value=!0);for(let e in r)c.push(r[e]);_.value=c}const j=async()=>{i.value=!0,d.value=!1,g.value=!0,y.value+=T;const{data:r,pending:e,error:f}=await N("/hiveapi/category/"+p+"/"+y.value);if(f.value){v.error(`失败！
`+f.value,{duration:5e3});return}let t=r?.value?.result;if(t.length==0){v.info("没有更多数据了",{duration:5e3}),i.value=!1;return}for(let A in t)c.push(t[A]);_.value=c,i.value=!1,t.length>19&&(d.value=!0),g.value=!1};return(r,e)=>{const f=D;return u(),n("div",I,[l("div",J,[l("p",K,h(a(s)),1),e[0]||(e[0]=l("hr",{class:"borderitem"},null,-1))]),a(V)?k("",!0):(u(!0),n(S,{key:0},q(a(_),t=>(u(),n("div",M,[B(f,{to:"/miaos/@"+t.author+"/"+t.permlink},{default:C(()=>[l("span",O,h(("formatTime"in r?r.formatTime:a(L))(t.created)),1),F(h(t.title),1)]),_:2},1032,["to"])]))),256)),a(i)?(u(),n("div",P,[l("img",{src:a(X),alt:"miao loading"},null,8,Q)])):k("",!0),a(d)?(u(),n("div",U,[B(a(G),{variant:"outline-primary",onClick:j,disabled:a(g)},{default:C(()=>e[1]||(e[1]=[F("查看更多",-1)])),_:1,__:[1]},8,["disabled"])])):k("",!0),e[2]||(e[2]=l("br",null,null,-1)),e[3]||(e[3]=l("br",null,null,-1))])}}};export{re as default};
